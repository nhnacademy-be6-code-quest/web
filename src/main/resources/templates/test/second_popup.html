<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Reverse 카테고리 목록</title>
    <style>

    </style>
</head>
<body>
<script>
    function selectCategory(categoryId, categoryName){
        opener.opener.receiveCategory(categoryId, categoryName);
        window.close();
    }

    document.addEventListener('DOMContentLoaded', function() {
        const links = document.querySelectorAll('.category-link');
        links.forEach(function(link) {
            link.addEventListener('click', function(event) {
                event.preventDefault();
                const categoryId = link.getAttribute('data-category-id');
                const categoryName = link.getAttribute('data-category-name');
                selectCategory(categoryId,categoryName);
            });
        });
    });
</script>
<h1>Reverse 카테고리 목록</h1>

<ul>
    <li th:each="categoryPath : ${categoryDetails}">
        <a href="#" class="category-link" th:attr ="data-category-id=${categoryPath.productCategoryId},data-category-name=${categoryPath.categoryName}">
            <span th:text="${categoryPath.categoryName()}"></span>
        </a>
    </li>
</ul>


</body>
</html>